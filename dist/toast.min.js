!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.$toast=e()}(this,function(){function t(t){return"undefined"==typeof t}function e(t){return"undefined"!=typeof t}function n(t){return!!t&&(r(t.nodeType)||t===window)}function o(t){return null!==t&&"object"==typeof t}function i(t){return"string"==typeof t}function r(t){return"number"==typeof t}function s(t){return Array.isArray(t)}function a(t){return Array.isArray(t)||o(t)&&r(t.length)&&t.length>-1}function c(t){return"function"==typeof t}function f(){if(null!=window.pageXOffset)return{x:window.pageXOffset,y:window.pageYOffset};var t=window.document;return"CSS1Compat"===document.compatMode?{x:t.documentElement.scrollLeft,y:t.documentElement.scrollTop}:{x:t.body.scrollLeft,y:t.body.scrollTop}}function u(t){var e={};return 3===t.length?(e=t[2],e.text=t[1]):2===t.length&&(o(t[1])?e=t[1]:e.text=t[1]),e.title=t[0],e}function l(t){switch(t){case"top":case"top center":case"center top":t="toast-y-top toast-x-center";break;case"top left":case"left top":t="toast-y-top toast-x-left";break;case"top right":case"right top":t="toast-y-top toast-x-right";break;case"center":case"center center":t="toast-y-center toast-x-center";break;case"left":case"center left":case"left center":t="toast-y-center toast-x-left";break;case"right":case"center right":case"right center":t="toast-y-center toast-x-right";break;case"bottom":case"bottom center":case"center bottom":t="toast-y-bottom toast-x-center";break;case"bottom left":case"left bottom":t="toast-y-bottom toast-x-left";break;case"bottom right":case"right bottom":t="toast-y-bottom toast-x-right";break;default:t="toast-y-bottom toast-x-center"}return t}function h(t){var e=v.findAll(x,function(e){return e.$toast.html()===t.html()});v.each(e,function(t){O.hide(t)})}function d(t,e){var n,o=t.height(),i=g.gap;e.indexOf("toast-y-top")!==-1?(n=b.find(".toast-y-top"),n.each(function(t,e){if(e==n.length-1)return!0;var r=m(t),s=parseFloat(r.css("top"));r.css("top",s+o+i+"px")})):e.indexOf("toast-y-center")!==-1?(n=b.find(".toast-y-center"),n.each(function(t,e){var r=m(t);if(e==n.length-1)r.css("margin-top",-(o/2)+"px");else{var s=parseFloat(r.css("margin-top"));r.css("margin-top",s+o+i+"px")}})):(n=b.find(".toast-y-bottom"),n.each(function(t,e){if(e==n.length-1)return!0;var r=m(t),s=parseFloat(r.css("bottom"));r.css("bottom",s+o+i+"px")}))}var p=/iphone|ipad|android|phone|mobile/.test(window.navigator.userAgent.toLocaleLowerCase()),v={trim:function(t){return i(t)?t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):t},each:function(t,n){var i;if(a(t)){var r=0,s=t.length;for(r;r<s;r++)i=t[r],e(i)&&n(i,r)}else if(o(t)){var c;for(c in t)t.hasOwnProperty(c)&&(i=t[c],n(i,c))}},some:function(t,n){if(a(t)){var i=0,r=t.length;for(i;i<r;i++)if(e(t[i])&&n(t[i],i))return!0}else if(o(t)){var s;for(s in t)if(t.hasOwnProperty(s)&&n(t[s],s))return!0}return!1},all:function(t,n){var i,r;if(a(t)){var s=0;for(i=t.length,r=0,s;s<i;s++)e(t[s])&&n(t[s],s)&&r++;return r===i}if(o(t)){var c;i=0,r=0;for(c in t)i++,t.hasOwnProperty(c)&&n(t[c],c)&&r++;return r===i}return!1},clone:function(t,e){if(null===t||void 0===t||"object"!=typeof t)return t;var n,o,i=!!e;if(t.constructor===Array){if(i===!1)return t;n=[];for(o in t)n.push(v.clone(t[o],i));return n}n={};for(o in t)n[o]=i?v.clone(t[o],!0):t[o];return n},extend:function(e,n){if(!(o(e)&&o(n)||a(e)&&a(n)))return e;var i=v.clone(e,!0);return v.each(n,function(e,n){t(e)||(i[n]=e)}),i},bind:function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments,0);return v.each(o,function(t,e){n[e]=t}),t.apply(e,n)}},contain:function(t,e){if(!o(t)||!o(e))return!1;var n=v.some(e,function(e,n){if(e!==t[n])return!0});return!n},reverseEach:function(t,n){if(!a(t))return!1;for(var o,i=t.length;i--;)o=t[i],e(o)&&n(o,i)},remove:function(e,n){if(t(n)||!s(e))return!1;var o=-1;o=r(n)?n:v.indexOf(e,n),o>-1&&e.splice(o,1)},removeAll:function(e,n){if(t(n))return!1;var o=v.indexOf(e,n);return!(o>-1)||(e.splice(o,1),void v.removeAll(e,n))},indexOf:function(t,e,n){for(var i,r=n||0,s=-1;r<t.length;){if(i=t[r],o(e)){if(v.contain(i,e)){s=r;break}}else if(c(e)){if(e(i,r)){s=r;break}}else if(i===e){s=r;break}r++}return s},find:function(t,e){var n=this.indexOf(t,e);if(n>-1)return t[n]},findAll:function(t,e){var n=-1,o=[];do n=this.indexOf(t,e,n+1),n>-1&&o.push(t[n]);while(n>-1);return o}},m=function(){var t=document.body&&void 0!==document.body.style.transition,e=function(t){var e,n=this,o=t.length;for(e=0;e<o;e++)n[e]=t[e];return n.length=t.length,this};return e.prototype={addClass:function(t){return i(t)||s(t)?(i(t)&&(t=v.trim(t).replace(/\s+/," ").split(" ")),this.each(function(e){e.className+=" "+t.join(" ")}),this):this},removeClass:function(t){return i(t)||s(t)?(i(t)&&(t=v.trim(t).replace(/\s+/," ").split(" ")),this.each(function(e){var n=" "+e.className+" ";v.each(t,function(t){t=" "+t+" ",n=n.replace(t," ")}),e.className=v.trim(n)}),this):this},toggleClass:function(t){return i(t)?void this.each(function(e){return e.className.indexOf(t)===-1||void(e.className+=" "+t)}):this},hasClass:function(t){return!!i(t)&&this[0].className.indexOf(t)>-1},css:function(t,e){if(1===arguments.length){if(i(t))return c(getComputedStyle)?getComputedStyle(this[0],null).getPropertyValue(t):this[0].currentStyle[t];o(t)&&this.each(function(e){v.each(t,function(t,n){e.style[n]=t})})}else if(2===arguments.length)return this.each(function(n){n.style[t]=e}),e},width:function(t){return t?(this.css("width",t+"px"),t):parseFloat(this.css("width"))},height:function(t){return t?(this.css("height",t+"px"),t):parseFloat(this.css("height"))},offset:function(){var t=this[0];if(!n(t))return!1;var e=t.getBoundingClientRect();if("fixed"===this.css("position"))return{x:e.left,y:e.top};var o=document.body,i=t.clientTop||o.clientTop||0,r=t.clientLeft||o.clientLeft||0,s=f(),a=s.y||t.scrollTop,c=s.x||t.scrollLeft;return{y:e.top+a-i,x:e.left+c-r}},remove:function(){this.each(function(t){t.parentNode&&t.parentNode.removeChild(t)})},append:function(t){this.each(function(o){if(i(t)){var r=document.createElement("div");for(r.innerHTML=t;r.firstChild;)o.appendChild(r.firstChild)}else n(t)?o.append(t):t instanceof e&&t.each(function(t){o.appendChild(t)})})},html:function(t){return t&&this.each(function(e){e.innerHTML=t}),this[0]&&this[0].innerHTML},hide:function(){this.each(function(t){t.style.display="none"})},show:function(t){this.each(function(e){e.style.display=t||"block"})},each:function(t){var e=0,n=this.length;for(e;e<n;e++)t(this[e],e)},find:function(t){for(var n=[],o=0;o<this.length;o++)for(var i=this[o].querySelectorAll(t),r=0;r<i.length;r++)n.push(i[r]);return new e(n)},transitionEnd:function(e){function n(t){this.removeEventListener("transitionend",n,!1),e(t)}return!!c(e)&&(t?void this.each(function(t){t.addEventListener("transitionend",n,!1)}):e())}},function(t){var o=[],i=0;if(t instanceof e)return t;if("string"==typeof t){var r,s,a=t;if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var c="div";for(0===a.indexOf("<li")&&(c="ul"),0===a.indexOf("<tr")&&(c="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(c="tr"),0===a.indexOf("<tbody")&&(c="table"),0===a.indexOf("<option")&&(c="select"),s=document.createElement(c),s.innerHTML=t,i=0;i<s.childNodes.length;i++)o.push(s.childNodes[i])}else for(r="#"!==t[0]||t.match(/[ .<>:~]/)?document.querySelectorAll(t):[document.getElementById(t.split("#")[1])],i=0;i<r.length;i++)r[i]&&o.push(r[i])}else if(n(t))o.push(t);else if(t.length>0&&t[0].nodeType)for(i=0;i<t.length;i++)o.push(t[i]);return new e(o)}}(),y='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"> <path d="M12.984 12.984v-6h-1.969v6h1.969zM12.984 17.016v-2.016h-1.969v2.016h1.969zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93z"></path> </svg>',g={duration:5e3,position:"bottom",type:"default",distinct:!1,mobile:p,icon:y,showCloseBtn:!p,gap:5},x=[],b=m("body"),w=b.width(),O={success:function(t,e,n){var o=u(arguments);return o.type="success",this.show(o)},error:function(t,e,n){var o=u(arguments);return o.type="error",this.show(o)},warn:function(t,e,n){var o=u(arguments);return o.type="warning",this.show(o)},info:function(t,e,n){var o=u(arguments);return o.type="info",this.show(o)},text:function(t,e,n){var o=u(arguments);return o.type="default",this.show(o)},show:function(t){t=v.extend(g,t);var e=m(document.createElement("div")),n=["toast"],o=t.title?'<div class="toast-title">'+t.title+"</div>":"",r=t.text?'<div class="toast-text">'+t.text+"</div>":"",s=t.icon;s?(n.push("toast-with-icon"),s='<div class="toast-icon">'+s+"</div>"):s="",(t.mobile||t.mobile!==!1&&g.mobile)&&n.push("toast-mobile");var a="";!t.mobile&&t.showCloseBtn&&(n.push("toast-with-close"),a='<div class="toast-close">x</div>'),e.html(s+o+r+a);var f="toast-type-"+t.type;n.push(f);var u=l(t.position);n.push(u),i(t.cls)&&n.push(t.cls),e.addClass(n),b.append(e),e.show();var p=w-30,y=e.width();y>p&&(y=e.width(p)),e.hasClass("toast-x-center")&&e.css("margin-left",(w-y)/2+"px"),t.distinct&&h(e),d(e,u);var C={$toast:e};return C.timeout=setTimeout(v.bind(this.hide,null,C),t.duration),x.push(C),e[0].onclick=function(e){return e.target.className.indexOf("toast-close")>-1?(O.hide(C),!1):void(c(t.click)&&t.click(e))},e.addClass("toast-in"),C},hide:function(t){if(!t||t.$toast.hasClass("toast-out"))return!0;clearTimeout(t.timeout);var e=t.$toast;e.addClass("toast-out"),e.transitionEnd(function(){e.remove(),v.remove(x,t),t=null})},clear:function(){x.each(this.hide)},config:function(t){g=v.extend(g,t)}};return O});